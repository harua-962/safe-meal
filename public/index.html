<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Safe Meal Vision</title>
    <style>
        html, body {
            overscroll-behavior: none;
            -webkit-overflow-scrolling: touch;
            height: 100%;
            position: relative;
        }
        body { font-family: sans-serif; max-width: 600px; margin: 0 auto; padding: 20px; background-color: #fcfcfc; }
        h1 { color: #ff6b6b; text-align: center; }
        .card { background: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); margin-bottom: 20px; }
        label { display: block; margin-bottom: 8px; font-weight: bold; }
        
        /* ãƒšãƒ¼ã‚¸åˆ‡ã‚Šæ›¿ãˆ */
        .page {
            display: none;
        }
        
        .page.active {
            display: block;
        }
        
        /* ãƒœã‚¿ãƒ³é¡ã®ãƒ‡ã‚¶ã‚¤ãƒ³ */
        .btn-group { display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 15px; }
        .toggle-btn { flex: 1; padding: 10px; border: 1px solid #ddd; border-radius: 6px; background: #fff; cursor: pointer; text-align: center; }
        .toggle-btn.active { background-color: #ff6b6b; color: white; border-color: #ff6b6b; }
        
        /* é£Ÿæãƒ¡ãƒ¢UIã®ã‚¹ã‚¿ã‚¤ãƒ« */
        .ingredients-memo-area {
            border: 2px dashed #ddd;
            border-radius:  8px;
            padding:  10px;
            min-height: 120px;
            background-color: #fffef8;
            position: relative;
        }
        
        .ingredients-memo-area textarea {
            width: 100%;
            min-height: 100px;
            border: none;
            background: transparent;
            font-family: sans-serif;
            font-size: 1em;
            resize: vertical;
            outline: none;
            padding: 5px;
            box-sizing:  border-box;
            line-height: 1.8;
        }
        
        .ingredients-memo-area::before {
            content: "ğŸ“";
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 1.5em;
            opacity: 0.3;
        }
        
        .ingredient-hint {
            font-size: 0.85em;
            color: #999;
            margin-top: 5px;
        }
        
        /* ãƒ¡ã‚¤ãƒ³ãƒœã‚¿ãƒ³ã®ã‚¹ã‚¿ã‚¤ãƒ« */
        #analyze-btn {
            width: 100%;
            padding:  15px;
            margin-top: 20px;
            background-color: #ff6b6b;
            color:  white;
            border: none;
            border-radius: 8px;
            font-size:  1.1em;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 6px rgba(255, 107, 107, 0.3);
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        #analyze-btn:hover:not(:disabled) {
            background-color: #ff5252;
            transform: translateY(-2px);
            box-shadow:  0 6px 12px rgba(255, 107, 107, 0.4);
        }
        
        /* ãƒœã‚¿ãƒ³ãŒæŠ¼ã•ã‚ŒãŸå¾Œã®ã‚¹ã‚¿ã‚¤ãƒ«ï¼ˆæ€è€ƒä¸­ï¼‰ */
        #analyze-btn:disabled {
            background-color: #ffa726;
            cursor: not-allowed;
            box-shadow: 0 2px 4px rgba(255, 167, 38, 0.3);
        }
        
        /* ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
        .spinner {
            width: 24px;
            height: 24px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-top-color: white;
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
            display: none;
        }
        
        #analyze-btn:disabled .spinner {
            display: inline-block;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* æˆ»ã‚‹ãƒœã‚¿ãƒ³ã®ã‚¹ã‚¿ã‚¤ãƒ« */
        #back-btn {
            width: 100%;
            padding:  15px;
            margin-top: 20px;
            background-color: #4E494C;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
        }
        
        #back-btn:hover {
            background-color: #555;
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
        }

        /* SNSå…±æœ‰ãƒœã‚¿ãƒ³ã®ã‚¹ã‚¿ã‚¤ãƒ«ï¼ˆæ–°ãƒ‡ã‚¶ã‚¤ãƒ³ï¼‰ */
        .share-section {
            margin-top: 30px;
            padding-top: 20px;
            border-top:  2px solid #f0f0f0;
        }
        
        .share-label {
            text-align: center;
            font-size: 0.9em;
            color: #666;
            margin-bottom: 15px;
            font-weight: bold;
        }
        
        .share-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
        }
        
        .share-btn {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
            position: relative;
        }
        
        .share-btn:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.25);
        }
        
        .share-btn svg {
            width: 32px;
            height: 32px;
            fill: white;
        }
        
        .share-btn.line {
            background-color: #06C755;
        }
        
        .share-btn.line:hover {
            background-color: #06C755;
        }
        
        .share-btn.twitter {
            background-color: #000000;
        }
        
        .share-btn.twitter:hover {
            background-color: #000000;
        }
        
        /* ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ— */
        .share-btn::after {
            content: attr(data-label);
            position: absolute;
            bottom: -30px;
            left: 50%;
            transform: translateX(-50%);
            background-color: #333;
            color: white;
            padding: 4px 8px;
            border-radius:  4px;
            font-size: 0.75em;
            white-space:  nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }
        
        .share-btn:hover::after {
            opacity: 1;
        }
        
        /* è­¦å‘Šã‚„çµæœè¡¨ç¤º */
        .recipe-title { 
            font-size: 1.4em; 
            color: #333; 
            border-bottom: 2px solid #ff6b6b; 
            padding-bottom: 5px; 
            margin-bottom: 10px; 
        }
        
        .warning { 
            color: red; 
            font-weight: bold; 
            border:  1px solid red; 
            padding: 10px; 
            border-radius: 6px; 
            background:  #fff0f0; 
            font-size: 0.9em; 
            margin-bottom: 15px; 
        }
        
        #resultContent {
            line-height: 1.8;
        }
    </style>
</head>
<body>

    <!-- å…¥åŠ›ç”»é¢ -->
    <div id="inputPage" class="page active">
        <h1>Safe Meal ğŸ½ï¸</h1>
        <p style="text-align: center; font-size: 0.9em;">ä»Šã‚ã‚‹é£Ÿæã‚’å…¥åŠ›ã ã‘ã€‚AIãŒå®‰å…¨ãªãƒ¬ã‚·ãƒ”ã‚’ææ¡ˆã€‚</p>
        
        <div class="card">
            <label style="margin-bottom: 0. 5em;">ğŸ¥— é£Ÿæãƒªã‚¹ãƒˆ (å¿…é ˆ)</label>
            <div class="ingredients-memo-area">
                <textarea 
                    id="ingredientsInput" 
                    placeholder="ä¾‹:  &#10;ãƒ‘ãƒ³&#10;ãƒ„ãƒŠç¼¶&#10;ãƒˆãƒãƒˆ&#10;&#10;â€»1è¡Œã«1ã¤ãšã¤è‡ªç”±ã«æ›¸ã„ã¦ãã ã•ã„"
                    required
                ></textarea>
            </div>
            <div class="ingredient-hint">ğŸ’¡ 1è¡Œã«1ã¤ãšã¤ã€ãƒ¡ãƒ¢æ„Ÿè¦šã§å…¥åŠ›ã§ãã¾ã™</div>
        
            <label style="margin-top: 15px;">ğŸ“ é£Ÿæãƒ¡ãƒ¢ (è£œè¶³ãƒ»ä»»æ„)</label>
            <input type="text" id="ingredientsMemo" placeholder="ä¾‹: è³å‘³æœŸé™åˆ‡ã‚Œã®ãƒ‘ãƒ³ãŒã‚ã‚Šã¾ã™" style="width: 100%; padding: 10px; box-sizing: border-box;">
        </div>

        <div class="card">
            <label>ğŸ”¦ ä½¿ãˆã‚‹ãƒ©ã‚¤ãƒ•ãƒ©ã‚¤ãƒ³</label>
            <div class="btn-group" id="lifelines">
                <div class="toggle-btn" data-value="é›»æ°—">é›»æ°—</div>
                <div class="toggle-btn" data-value="ã‚¬ã‚¹">ã‚¬ã‚¹</div>
                <div class="toggle-btn active" data-value="æ°´">æ°´</div>
            </div>

            <label style="margin-top: 15px;">ğŸ¥œ ã‚¢ãƒ¬ãƒ«ã‚®ãƒ¼ (çµ¶å¯¾é™¤å»)</label>
            <div class="btn-group" id="allergies">
                <div class="toggle-btn" data-value="åµ">åµ</div>
                <div class="toggle-btn" data-value="ä¹³">ä¹³</div>
                <div class="toggle-btn" data-value="å°éº¦">å°éº¦</div>
                <div class="toggle-btn" data-value="ãˆã³">ãˆã³</div>
                <div class="toggle-btn" data-value="ã‹ã«">ã‹ã«</div>
            </div>
            <input type="text" id="otherAllergy" placeholder="ãã®ä»– (ä¾‹: ãã°, è½èŠ±ç”Ÿ)" style="width: 100%; padding: 8px; margin-top: 5px; box-sizing: border-box;">
        </div>

        <div class="card">
            <button id="analyze-btn">
                <span id="button-text">ã“ã®æ¡ä»¶ã§ãƒ¬ã‚·ãƒ”ã‚’èã ğŸ³</span>
                <div class="spinner"></div>
            </button>
        </div>
    </div>

    <!-- ãƒ¬ã‚·ãƒ”çµæœç”»é¢ -->
    <div id="resultPage" class="page">
        <h1>Safe Meal ğŸ½ï¸</h1>
        
        <div class="card">
            <div class="warning">âš ï¸ AIç”Ÿæˆãƒ¬ã‚·ãƒ”ã§ã™ã€‚ã‚¢ãƒ¬ãƒ«ã‚®ãƒ¼æƒ…å ±ã¯å¿…ãšã”è‡ªèº«ã§ã‚‚æœ€çµ‚ç¢ºèªã—ã¦ãã ã•ã„ã€‚</div>
            
            <h2 style="color:#ff6b6b; border-bottom:  2px solid #ff6b6b; padding-bottom: 10px; margin-bottom: 20px;">ğŸ³ ææ¡ˆãƒ¬ã‚·ãƒ”</h2>
            
            <div id="resultContent"></div>
            
            <!-- SNSå…±æœ‰ãƒœã‚¿ãƒ³ï¼ˆæ–°ãƒ‡ã‚¶ã‚¤ãƒ³ï¼‰ -->
            <div class="share-section">
                <div class="share-label">ğŸ”— ã“ã®ãƒ¬ã‚·ãƒ”ã‚’ã‚·ã‚§ã‚¢</div>
                <div class="share-buttons">
                    <a id="lineShareBtn" class="share-btn line" href="#" target="_blank" rel="noopener noreferrer" data-label="LINEã§å…±æœ‰">
                        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M19.365 9.863c.349 0 .63.285.63.631 0 .345-.281.63-.63.63H17.61v1.125h1.755c.349 0 .63.283.63.63 0 .344-.281.629-.63.629h-2.386c-.345 0-.627-.285-.627-.629V8.108c0-.345.282-.63.63-.63h2.386c.346 0 .627.285.627.63 0 .349-.281.63-.63.63H17.61v1.125h1.755zm-3.855 3.016c0 .27-.174.51-.432.596-.064.021-.133.031-.199.031-.211 0-.391-.09-.51-.25l-2.443-3.317v2.94c0 .344-.279.629-.631.629-.346 0-.626-.285-.626-.629V8.108c0-.27.173-.51.43-.595.06-.023.136-.033.194-.033.195 0 .375.104.495.254l2.462 3.33V8.108c0-.345.282-.63.63-.63.345 0 .63.285.63.63v4.771zm-5.741 0c0 .344-.282.629-.631.629-.345 0-.627-.285-.627-.629V8.108c0-.345.282-.63.63-.63.346 0 .628.285.628.63v4.771zm-2.466.629H4.917c-.345 0-.63-.285-.63-.629V8.108c0-.345.285-.63.63-.63.348 0 .63.285.63.63v4.141h1.756c.348 0 .629.283.629.63 0 .344-.282.629-.629.629M24 10.314C24 4.943 18.615.572 12 .572S0 4.943 0 10.314c0 4.811 4.27 8.842 10.035 9.608.391.082.923.258 1.058.59.12.301.079.766.038 1.08l-.164 1.02c-.045.301-.24 1.186 1.049.645 1.291-.539 6.916-4.078 9.436-6.975C23.176 14.393 24 12.458 24 10.314"/>
                        </svg>
                    </a>
                    <a id="twitterShareBtn" class="share-btn twitter" href="#" target="_blank" rel="noopener noreferrer" data-label="Xã§å…±æœ‰">
                        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
                        </svg>
                    </a>
                </div>
            </div>
        </div>

        <div class="card">
            <button id="back-btn">
                â† å…¥åŠ›ç”»é¢ã«æˆ»ã‚‹
            </button>
        </div>
    </div>

    <script src="script.js"></script>

</body>
</html>